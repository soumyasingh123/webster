<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Leaderboard</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
      }

      body {
        position: relative;
        font-family: "Poppins", sans-serif;
        color: #3b3030;
      }

      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url("/leader.png");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        background-attachment: fixed;
        opacity: 0.2;
        z-index: -1;
      }

      header {
        width: 100%;
        padding: 20px;
        background-color: transparent;
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: #3b3030;
      }

      .logo {
        font-size: 2rem;
      }

      .btnLogin-popup {
        width: 130px;
        height: 50px;
        background: transparent;
        border: 2px solid #3b3030;
        border-radius: 6px;
        font-size: 1.1rem;
        color: #3b3030;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.5s;
      }

      .btnLogin-popup:hover {
        background-color: #3b3030;
        color: white;
      }

      .portfolio {
        margin-top: 50px;
        margin-left:  500px;
        width: 600px;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        background-color: transparent;
        position: relative;
      }

      h1 {
        text-align: center;
        color: #3b3030;
        font-size: 3rem;
        font-style: italic;
        font-family: Tahoma;
        margin-bottom: 30px;
      }

      .leaderboard {
        list-style-type: none;
        padding: 0;
      }

      .leaderboard li {
        background: transparent;
        margin: 5px 0;
        padding: 10px;
        border-radius: 2px;
        display: flex;
        justify-content: space-between;
        transition: background-color 0.3s;
      }

      .leaderboard li:hover {
        background-color: #fbf3e4;
      }

      .name {
        font-size: 20px;
        font-weight: bold;
        color: #3b3030;
      }

      .score {
        font-size: 20px;
        font-weight: bold;
        color: #71b0f4;
      }

      @media (max-width: 600px) {
        .portfolio {
          padding: 15px;
        }

        .leaderboard li {
          flex-direction: column;
          align-items: center;
        }

        .score {
          margin-top: 5px;
        }
      }

      .error-message {
        color: red;
        font-size: 1.1rem;
        margin-top: 10px;
      }
    </style>
  </head>

  <body>
    <header>
      <h2 class="logo">MUSIC</h2>
      <nav>
        <form action="/profile" method="GET" style="display: inline">
          <button class="btnLogin-popup">Profile</button>
        </form>
        <form action="/userFiles" method="GET" style="display: inline">
          <button class="btnLogin-popup">Uploads</button>
        </form>
        <form action="/explore" method="GET" style="display: inline">
          <button class="btnLogin-popup">Explore</button>
        </form>
        <form action="/battles" method="GET" style="display: inline">
          <button class="btnLogin-popup">Battles</button>
        </form>
        <form action="/leaderboard" method="GET" style="display: inline">
          <button class="btnLogin-popup">Leaderboard</button>
        </form>
        <form action="/logout" method="GET" style="display: inline">
          <button class="btnLogin-popup">Logout</button>
        </form>
      </nav>
    </header>
    <div class="portfolio">
      <h1>Leaderboard &#128526;</h1>
      <ol id="leaderboard" class="leaderboard">
        <% if (users.length > 0) { %> <% users.forEach(user => { %>
        <li>
          <ul>
            <li class="name"><%= user.username %></li>
            <li class="score"><%= user.points %></li>
          </ul>
        </li>
        <% }) %>
      </ol>
    </div>
    <% } else { %>
    <p>No users available.</p>
    <% } %> <% if (error) { %>
    <p class="error-message"><%= error %></p>
    <% } %>
  </body>
</html>
